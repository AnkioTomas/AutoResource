{"remainingRequest":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/ankio/Documents/Documents/SourceCode/HTML/auto/src/components/Edit.vue?vue&type=style&index=0&id=3594053a&scoped=true&lang=css","dependencies":[{"path":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/src/components/Edit.vue","mtime":1644908708749},{"path":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/node_modules/css-loader/dist/cjs.js","mtime":1641614515318},{"path":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1641614515859},{"path":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/node_modules/postcss-loader/src/index.js","mtime":1640870967866},{"path":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/node_modules/cache-loader/dist/cjs.js","mtime":1641614512379},{"path":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/node_modules/vue-loader-v16/dist/index.js","mtime":1641614515859}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5lbC1hc2lkZSB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICAtLWVsLWFzaWRlLXdpZHRoOjIxMHB4Cn0K"},{"version":3,"sources":["/Users/ankio/Documents/Documents/SourceCode/HTML/auto/src/components/Edit.vue"],"names":[],"mappings":";AAgLA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB","file":"/Users/ankio/Documents/Documents/SourceCode/HTML/auto/src/components/Edit.vue","sourceRoot":"","sourcesContent":["\n<template>\n  <el-container>\n    <el-aside class=\"hidden-sm-and-down\">\n      <el-menu\n          :default-active=\"activity\"\n          class=\"el-menu-vertical-demo\"\n          @select=\"handleSelect\"\n      >\n        <el-menu-item index=\"category@ui\" >\n          <span>自动分类规则(可视化编辑)</span>\n        </el-menu-item>\n        <el-menu-item index=\"category@js\">\n          <span>自动分类规则(JS编辑)</span>\n        </el-menu-item>\n        <el-menu-item index=\"app\">\n          <span>APP规则编辑</span>\n        </el-menu-item>\n        <el-menu-item index=\"helper\" >\n          <span>无障碍规则编辑</span>\n        </el-menu-item>\n        <el-menu-item index=\"sms\">\n          <span>短信规则编辑</span>\n        </el-menu-item>\n        <el-menu-item index=\"notice\">\n          <span>通知规则编辑</span>\n        </el-menu-item>\n      </el-menu>\n    </el-aside>\n    <el-main style=\"height: max-content;\">\n      <iframeTemplate :url=\"url\" :_data=\"Idata\"  :type=\"type\"></iframeTemplate>\n    </el-main>\n  </el-container>\n\n</template>\n\n<script>\n\n\nimport {req} from \"@/request/request\";\nimport IframeTemplate from \"@/components/IframeTemplate\";\n\n\nexport default {\n  name: \"Edit\",\n  components:{\n    IframeTemplate\n  },\n  data(){\n    return {\n      \"activity\":\"app\",\"url\":\"./auto/cate/index.html\",\"Idata\":\"\",\"type\":\"app\"\n    }\n  },\n  created(){\n    if(this.$route.query[\"site\"]!==undefined){\n      this.activity = this.$route.query[\"site\"];\n      return\n    }\n    if(this.$route.query[\"type\"]===\"cloud\"){\n      this.analyze(this.$route.query[\"id\"]);\n    }\n  },\n  methods:{\n    randString:function () {\n      let len =  32;\n      var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\n      var maxPos = $chars.length;\n      var pwd = '';\n      for (let i = 0; i < len; i++) {\n        pwd += $chars.charAt(Math.floor(Math.random() * maxPos));\n      }\n      return pwd;\n    },\n    handleSelect:function(key,path) {\n      this.activity = key\n      console.log(this.activity,key,path)\n      switch (key){\n        case \"sms\":case \"notice\":case \"helper\":case \"app\":{\n          let json = {\n            \"id\":\"\",\n            \"identify\":key,\n            \"dataId\":this.randString(),\n            \"version\":\"1\",\n            \"regular_name\":\"\",\n            \"regular_remark\":\"\",\n            \"regular_app\":\"\",\n            \"regex_input\":\"\",\n            \"str_input\":\"\",\n            \"type\":\"\",\n            \"account_name1\":\"\",\n            \"account_name2\":\"\",\n            \"money\":\"\",\n            \"fee\":\"\",\n            \"shopName\":\"\",\n            \"shopRemark\":\"\",\n            \"time\":\"\",\n            \"auto\":\"0\"\n          }\n          this.url=\"./auto/reg/index.html?t=\"+(new Date()).getMilliseconds()\n          this.type=key\n          this.Idata = JSON.stringify(json);\n          break;\n        }\n        case \"category@js\":{\n          let json = {\n            \"id\":\"\",\n            \"dataId\":this.randString(),\n            \"version\":\"1\",\n            \"regular_name\":\"\",\n            \"regular_remark\":\"\",\n            \"code\":\"/*\\r\\n* 可用变量\\r\\n*\\r\\n* shopName 商户名称,shopRemark 商户备注,type 账单类型（支出、收入）,hour 当前时,minute 当前分,money 金额\\r\\n* 可用内置函数（判断是否在当前时间段） isInTimeInner(minTime, maxTime,timeHour,timeMinute)\\r\\n* minTime 最小时间（如12:00）, maxTime 最大时间（如13:00）,timeHour 当前时,timeMinute 当前分\\r\\n* 比如：if(true)return '其它';\\r\\n*/\\r\\n\\r\\n\"\n          }\n          this.url=\"./auto/cate/js.html?t=\"+(new Date()).getMilliseconds()\n          this.type=key\n          this.Idata = JSON.stringify(json);\n          break;\n        }case \"category@ui\":{\n          let json = {\n            \"id\":\"\",\n            \"dataId\":this.randString(),\n            \"version\":\"1\",\n            \"regular_name\":\"\",\n            \"regular_remark\":\"\",\n            \"regular_time1\":\"00:00\",\n            \"regular_time2\":\"23:00\",\n            \"regular_money1_link\":\"=\",\n            \"regular_money1\":\"\",\n            \"regular_money2_link\":\"=\",\n            \"regular_money2\":\"\",\n            \"regular_shopName_link\":\"包含\",\n            \"regular_shopName\":\"\",\n            \"regular_shopRemark_link\":\"包含\",\n            \"regular_shopRemark\":\"\",\n            \"regular_type\":\"支出\",\n            \"regular_sort\":\"其它\"\n          }\n          this.url=\"./auto/cate/index.html?t=\"+(new Date()).getMilliseconds()\n          this.type=key\n           this.Idata = JSON.stringify(json);\n          break;\n        }\n      }\n     // console.log(key, keyPath)\n    },\n    analyze:function (id) {\n      let that= this;\n      req(\"regulars/\"+id+\".json\",function (listJson) {\n        that.setData(listJson[\"from\"],JSON.stringify(listJson).indexOf('{\\\\\"code\\\\\":')!==-1,listJson)\n      })\n      //从云端获取数据并渲染\n    },\n    setData:function (type,isJs,data) {\n      if(type===\"category\"){\n        if(isJs){\n          this.activity = type+\"@js\"\n          this.url=\"./auto/cate/js.html\"\n        }else{\n          this.activity = type+\"@ui\"\n          this.url=\"./auto/cate/index.html\"\n        }\n        this.type=type\n        this.Idata = data.data[0].data;\n      }else{\n        this.activity = type\n        this.url=\"./auto/reg/index.html\"\n        this.type=type\n        this.Idata = data.data[0].data;\n      }\n      console.log(type,isJs,data)\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n.el-aside {\n  text-align: left;\n  --el-aside-width:210px\n}\n</style>"]}]}