# 3. 资产设置与同步

## 记账原理简述

前面我们说过，`自动记账`是一款基于`钱迹`API开发的辅助插件。

那么既然是基于`钱迹`，我们就要按照人家的规矩来。

钱迹的记账功能很强大，但是出于安全的考虑，并没有加入自动获取账单的功能，而是开放了一个外部接口，接收外来的数据，然后处理成账单。

而`自动记账`的工作，则是从手机中获取账单信息，然后以`钱迹`规定的固定格式，将数据传入`钱迹`处理。

这样，数据就顺利的从App到自动记账再到钱迹，整个过程是由程序自动完成。这看起来相当完美。

但是，众所周知，程序是没有思维的。它不会像人类一样去变通，只会按预设好的模式去运行。

这也就意味着，它不可能应付所有情况。因为每个人的情况是不一样的，比如我有1张银行卡，但另一个人可能有10张银行卡，当然也就不能使用完全一样的程序。

那么问题来了，怎么解决这样的分歧，尽可能的照顾更多的人呢？

当然是由用户自己来决定这些只属于自己的东西。

所以我们需要进行一些设置。

调校工具，无论到了哪里，都是我们工作必备的第一步。毕竟，买回来的新锅，也得先开锅了才开始炒菜不是？

**本节将会分为两个部分：**

>- [资产设置](#资产设置)
>- [资产同步](#资产同步)

## 资产设置

钱迹记账的账单本身就是是基于资产的，钱从哪里进，从哪里出，都得有个源头和归宿，我们总不能记黑账不是？

所以，不论你是不是愿意设置它，你至少得保证有一个资产数据在。没办法，这是钱迹规定的，我们得按人家的规矩来。

前面的教程中，我们已经将钱迹中的资产数据设置好了，现在我们还要在自动记账中再设置一次。那么问题来了：我能不能直接把`钱迹`中设置过的数据拿过来呢？

当然可以，后面我们的资产同步就是专门讲这个。

但是现在，我们要开始手动设置的过程了。

**打开`自动记账`，当然，是新版的，进入后首页可以看到一个`资产管理`，点进去。**

![自动记账首页](img/自动记账首页.png ':size=260')
![资产管理](img/资产管理.png ':size=260')

**到这里，你们可能发现，有两个标签页，分别是`账本`和`资产`，我们首先设置`资产`。**

!> **这里注意一下：**在钱迹中，资产和账本是联系，又相互独立的，所有账本都是同一个资产列表。

**点击右下角`+`号，输入资产名，确定即可**

!><span style="color:#ff8833;font-size:1.5em;font-weight:bold;">注意：</span>资产名设置**务必**和钱迹中的资产名**一模一样，分毫不差**

![资产设置](img/资产设置.jpg ':size=260')

### 附加：账本设置
?>**【钱迹免费用户】**会有一个`默认账本`，所以对于**【钱迹免费用户】**来说，不需要在自动记账中额外设置账本。但是在用户升级为VIP时，会自动将默认账本中的数据合并到`日常生活`中，因此，我们需要在自动记账中设置一个`日常生活`的账本。**步骤参考资产设置**。

## 资产同步
由于手动添加较为繁琐，我们可以使用`资产同步`功能，将`钱迹`中的`资产`、`分类`数据同步到`自动记账`中

!>注意：该功能仅限Xposed模式用户使用，无障碍模式请手动添加。

1. 做好[环境配置](1.开始前的准备.md#huanjingSet)，确保钱迹在作用域内。
2. 点击首页中的`数据同步`，程序会自动跳转到钱迹，并在同步完成后自动跳转回来。此时资产就已经同步完成了。
3. 点开`资产管理`和`分类管理`，查看是否同步成功

<div style="width:50%;float:left;text-align:center;background-color:#f5f6fa">

[上一步(权限设置)](2.权限设置.md)

</div>
<div style="width:50%;float:right;text-align:center;background-color:#f5f6fa">

[下一步(资产映射)](资产映射.md)

</div>